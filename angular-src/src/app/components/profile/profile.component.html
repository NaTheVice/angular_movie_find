<app-nav></app-nav>
<div class= "container">
<div *ngIf="user" id="user-info">
  <div id="user-img"><p>{{firstChar}}</p></div>
  <div class="row">
    <div class="user-name col-md-4">
      <span>{{user.name}}</span>
      <a *ngIf="editmode"  (click)="updateUser(user)"><i class="fa fa-floppy-o" aria-hidden="true"></i></a>
      <a (click)="makeEditable()"><i  class="fa fa-pencil" aria-hidden="true"></i></a>
      <br>
      <hr id="line">
      <b>Username: </b><input typ="text" class="user dashboard username" disabled="true" value={{user.username}}> <br>
      <b>Email: </b><input typ="text" class="user dashboard username" disabled="true" value={{user.email}}> 
    </div>
  </div>
  
  <hr>
<div *ngIf="movies.length >0">
  <div class="row">
    <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12" id="percent-bar">
      <h3>Favorite Genre: </h3>
      <div id="genres">
        
        <div id="genrepercent"> </div>
        <p>{{genrepercent}}% {{genrename}}</p>
      </div>
    </div>

    <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12" id="percent-bar">
      <h3>Average Rating: </h3>
      <div id="genres">
        
        <div id="ratingpercent"> </div>
        <p>{{ratingpercent}}/10</p>
      </div>
    </div>

    <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12" id="percent-bar">
      <h3>Watched Movies: </h3>
      <div id="genres">
        
        <div id="watchedpercent"> </div>
        <p>{{watched}}/{{movies.length}}</p>
      </div>
    </div>
  </div>

  
  <doughnut-chart ></doughnut-chart>
  <div id="break">
  </div>
  <line-chart></line-chart>

  <div class="row" id="not-watched">
    <h3>Movies You Have Not Watched Yet: </h3>
    <div class="col-md-4 col-sm-6 col-xs-12" *ngFor="let m of moviesNotWatched">
      {{m.title}}
    </div>
  </div>
  
</div>

  <!--<div id="user-movies">
    <span>{{user.movies.length}} Movies</span>
    <br>
    <p *ngFor="let genre of userGenres">{{genre.name}} : {{genre.count}}</p>
    <br>
    <span *ngIf="genrecount" >Favorite Genre: {{genrename}} with {{genrecount}} of {{genreAllCounts}} Genres ({{genrepercent}}%)</span>
  </div>-->

  
</div>
</div>


<br>

 <div class="container">
   
    <div class="input-group">
        <input  [(ngModel)]="searchstring" type="text" class="form-control" placeholder="addresse..." name="q">
        <div class="input-group-btn">
          <button (click)="setCoordinates()" class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>
        </div>
    </div>
    <div id="map"></div>
 </div>
    
 

